# PX-Plus: FastAPI + RFS Framework

FastAPIì™€ RFS Frameworkë¥¼ ê²°í•©í•œ í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ ê¸°ë°˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

## ğŸ¯ í•µì‹¬ íŠ¹ì§•

- **í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ì¸í”„ë¼ë¥¼ ì™„ì „íˆ ë¶„ë¦¬
- **Result íŒ¨í„´**: ì˜ˆì™¸ ëŒ€ì‹  ëª…ì‹œì ì¸ Result<T, E> ì‚¬ìš©
- **ì˜ì¡´ì„± ì£¼ì…**: RFS Registry ê¸°ë°˜ DI ì‹œìŠ¤í…œ
- **ë¶ˆë³€ì„±**: ëª¨ë“  ì—”í‹°í‹°ëŠ” ë¶ˆë³€(immutable) ë°ì´í„° êµ¬ì¡°
- **í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°**: ìˆœìˆ˜ í•¨ìˆ˜ì™€ HOF í™œìš©
- **íƒ€ì… ì•ˆì •ì„±**: ì™„ì „í•œ íƒ€ì… íŒíŠ¸ì™€ Pydantic ê²€ì¦

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
px-plus/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ domain/              # ë„ë©”ì¸ ë ˆì´ì–´ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
â”‚   â”‚   â”œâ”€â”€ entities.py      # ë¶ˆë³€ ì—”í‹°í‹°
â”‚   â”‚   â””â”€â”€ services.py      # ë„ë©”ì¸ ì„œë¹„ìŠ¤ (Result íŒ¨í„´)
â”‚   â”œâ”€â”€ application/         # ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆì´ì–´
â”‚   â”‚   â”œâ”€â”€ dto.py           # Pydantic DTO
â”‚   â”‚   â””â”€â”€ use_cases.py     # ìœ ì¦ˆì¼€ì´ìŠ¤
â”‚   â”œâ”€â”€ infrastructure/      # ì¸í”„ë¼ ë ˆì´ì–´
â”‚   â”‚   â”œâ”€â”€ registry.py      # DI ë ˆì§€ìŠ¤íŠ¸ë¦¬
â”‚   â”‚   â””â”€â”€ web/
â”‚   â”‚       â”œâ”€â”€ dependencies.py  # FastAPI ì˜ì¡´ì„±
â”‚   â”‚       â”œâ”€â”€ responses.py     # Result â†’ HTTP ë³€í™˜
â”‚   â”‚       â””â”€â”€ routes.py        # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â””â”€â”€ main.py              # FastAPI ì•± ì´ˆê¸°í™”
â”œâ”€â”€ tests/                   # í…ŒìŠ¤íŠ¸
â”œâ”€â”€ rules/                   # ê°œë°œ ê·œì¹™ ë¬¸ì„œ
â”œâ”€â”€ pyproject.toml          # í”„ë¡œì íŠ¸ ì„¤ì •
â””â”€â”€ run.sh                  # ì„œë²„ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
```

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. ì„œë²„ ì‹¤í–‰

```bash
# ê°„í¸ ì‹¤í–‰ (ê¶Œì¥)
./run.sh

# ë˜ëŠ” ìˆ˜ë™ ì‹¤í–‰
python3 -m venv .venv
source .venv/bin/activate
pip install fastapi "uvicorn[standard]" pydantic
uvicorn src.main:app --reload
```

### 2. API ë¬¸ì„œ í™•ì¸

ì„œë²„ ì‹¤í–‰ í›„ ë‹¤ìŒ URLì—ì„œ API ë¬¸ì„œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc
- **OpenAPI JSON**: http://localhost:8000/openapi.json

### 3. API í…ŒìŠ¤íŠ¸

```bash
# ê¸°ë³¸ ì¸ì‚¬ë§ (Hello World)
curl http://localhost:8000/

# ê°œì¸í™”ëœ ì¸ì‚¬ë§
curl http://localhost:8000/hello/Alice

# ì»¤ìŠ¤í…€ ì¸ì‚¬ë§ ìƒì„±
curl -X POST http://localhost:8000/greetings \
  -H "Content-Type: application/json" \
  -d '{"recipient": "Bob", "custom_message": "Good morning"}'

# ì‚¬ìš©ì ìƒì„±
curl -X POST http://localhost:8000/users \
  -H "Content-Type: application/json" \
  -d '{"name": "Charlie", "email": "charlie@example.com"}'

# í—¬ìŠ¤ ì²´í¬
curl http://localhost:8000/health
```

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ì„¤ëª…

### í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ (Ports & Adapters)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Infrastructure Layer                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚        FastAPI (Web Adapter)        â”‚   â”‚
â”‚  â”‚  - Routes                            â”‚   â”‚
â”‚  â”‚  - Dependencies (DI)                 â”‚   â”‚
â”‚  â”‚  - Response Converters               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Application Layer                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         Use Cases                    â”‚   â”‚
â”‚  â”‚  - CreateGreetingUseCase             â”‚   â”‚
â”‚  â”‚  - CreateUserUseCase                 â”‚   â”‚
â”‚  â”‚  - GetDefaultGreetingUseCase         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         DTOs (Pydantic)              â”‚   â”‚
â”‚  â”‚  - GreetingRequest/Response          â”‚   â”‚
â”‚  â”‚  - UserRequest/Response              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Domain Layer (Core Business)        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚      Domain Services                 â”‚   â”‚
â”‚  â”‚  - GreetingService (Result íŒ¨í„´)     â”‚   â”‚
â”‚  â”‚  - UserService (Result íŒ¨í„´)         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚      Entities (Immutable)            â”‚   â”‚
â”‚  â”‚  - Greeting                          â”‚   â”‚
â”‚  â”‚  - User                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Result íŒ¨í„´ ì˜ˆì œ

```python
# âŒ ì „í†µì ì¸ ì˜ˆì™¸ ê¸°ë°˜ ë°©ì‹
def create_user(name: str):
    if not name:
        raise ValueError("ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤")
    return User(name=name)

# âœ… Result íŒ¨í„´ ë°©ì‹
def create_user(name: str) -> Result[User, str]:
    if not name:
        return Failure("ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤")
    return Success(User(name=name))

# Result ì‚¬ìš©
result = create_user("Alice")
if result.is_success():
    user = result.unwrap()
    print(f"ì‚¬ìš©ì ìƒì„±: {user.name}")
else:
    error = result.unwrap_error()
    print(f"ì—ëŸ¬: {error}")
```

## ğŸ“š ê°œë°œ ê·œì¹™

í”„ë¡œì íŠ¸ëŠ” [rules/](./rules/) ë””ë ‰í† ë¦¬ì˜ ê·œì¹™ì„ ë”°ë¦…ë‹ˆë‹¤:

- **[í•„ìˆ˜ ì¤€ìˆ˜ ê·œì¹™](./rules/00-mandatory-rules.md)**: RFS Framework ìš°ì„  ì‚¬ìš©, í•œê¸€ ì£¼ì„, Result íŒ¨í„´
- **[Result íŒ¨í„´](./rules/01-result-pattern.md)**: ëª…ì‹œì  ì—ëŸ¬ ì²˜ë¦¬
- **[í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°](./rules/02-functional-programming.md)**: ë¶ˆë³€ì„±, ìˆœìˆ˜ í•¨ìˆ˜, HOF
- **[ì½”ë“œ ìŠ¤íƒ€ì¼](./rules/03-code-style.md)**: íƒ€ì… íŒíŠ¸, ëª…ëª… ê·œì¹™
- **[í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜](./rules/04-hexagonal-architecture.md)**: í¬íŠ¸-ì–´ëŒ‘í„° íŒ¨í„´
- **[ì˜ì¡´ì„± ì£¼ì…](./rules/05-dependency-injection.md)**: Registry ê¸°ë°˜ DI

## ğŸ§ª í…ŒìŠ¤íŠ¸

```bash
# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
pytest

# ì»¤ë²„ë¦¬ì§€ í¬í•¨
pytest --cov=src --cov-report=html

# íŠ¹ì • í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
pytest tests/test_domain.py
```

## ğŸ”§ ê°œë°œ ë„êµ¬

```bash
# ì½”ë“œ í¬ë§·íŒ…
black src/ tests/
isort src/ tests/

# íƒ€ì… ì²´í¬
mypy src/

# ë¦°íŠ¸
ruff check src/
```

## ğŸ“ API ì—”ë“œí¬ì¸íŠ¸

### Greetings

- `GET /` - ê¸°ë³¸ ì¸ì‚¬ë§ (Hello World)
- `GET /hello/{name}` - ê°œì¸í™”ëœ ì¸ì‚¬ë§
- `POST /greetings` - ì»¤ìŠ¤í…€ ì¸ì‚¬ë§ ìƒì„±

### Users

- `POST /users` - ì‚¬ìš©ì ìƒì„±

### Health

- `GET /health` - ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸

## ğŸ¤ ê¸°ì—¬ ê°€ì´ë“œ

1. ì´ìŠˆ ìƒì„± ë˜ëŠ” ê¸°ì¡´ ì´ìŠˆ ì„ íƒ
2. ë¸Œëœì¹˜ ìƒì„±: `git checkout -b feature/your-feature`
3. ë³€ê²½ì‚¬í•­ ì»¤ë°‹: `git commit -m "feat: add feature"`
4. í‘¸ì‹œ: `git push origin feature/your-feature`
5. Pull Request ìƒì„±

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License

## ğŸ™ ê°ì‚¬ì˜ ê¸€

- [FastAPI](https://fastapi.tiangolo.com/) - í˜„ëŒ€ì ì¸ Python ì›¹ í”„ë ˆì„ì›Œí¬
- [Pydantic](https://pydantic-docs.helpmanual.io/) - ë°ì´í„° ê²€ì¦ ë¼ì´ë¸ŒëŸ¬ë¦¬
- [RFS Framework](https://github.com/rfs-framework) - Result íŒ¨í„´ ë° í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ë„êµ¬
